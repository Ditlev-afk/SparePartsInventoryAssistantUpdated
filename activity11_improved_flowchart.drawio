<mxfile host="app.diagrams.net">
  <diagram name="Activity11_UserAccessCheck_Improved" id="flow3">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Start/End -->
        <mxCell id="start" value="Start" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="20" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="end" value="End" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="1000" width="120" height="60" as="geometry" />
        </mxCell>

        <!-- Input -->
        <mxCell id="input_username" value="Enter username" style="shape=parallelogram;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="120" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="input_password" value="Enter password" style="shape=parallelogram;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="200" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="input_userid" value="Enter user ID" style="shape=parallelogram;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="280" width="160" height="60" as="geometry" />
        </mxCell>

        <!-- Process -->
        <mxCell id="check_admin" value="userIsAdmin = userId > 56565" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="360" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="check_username" value="usernameValid = username.Length >= 3" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="440" width="260" height="60" as="geometry" />
        </mxCell>

        <!-- Array + loop -->
        <mxCell id="define_array" value="specialChars = { $, |, @ }" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="520" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="foreach_loop" value="foreach char in specialChars:
 if password.Contains(char) â†’ containsSpecialChar = true" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="600" width="340" height="80" as="geometry" />
        </mxCell>

        <mxCell id="check_password_length" value="If admin: password.Length >= 20
Else: password.Length >= 16" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="700" width="320" height="80" as="geometry" />
        </mxCell>

        <mxCell id="combine_password" value="passwordValid = containsSpecialChar AND lengthRequirement" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="800" width="340" height="60" as="geometry" />
        </mxCell>

        <!-- Decision -->
        <mxCell id="decision" value="usernameValid AND passwordValid?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="880" width="220" height="80" as="geometry" />
        </mxCell>

        <!-- Outputs -->
        <mxCell id="access_granted" value="Access granted. Welcome {username}" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="880" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="access_denied" value="Print error: username or password invalid" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-280" y="880" width="280" height="60" as="geometry" />
        </mxCell>

        <!-- Edges -->
        <mxCell id="e1" edge="1" parent="1" source="start" target="input_username"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e2" edge="1" parent="1" source="input_username" target="input_password"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e3" edge="1" parent="1" source="input_password" target="input_userid"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e4" edge="1" parent="1" source="input_userid" target="check_admin"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e5" edge="1" parent="1" source="check_admin" target="check_username"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e6" edge="1" parent="1" source="check_username" target="define_array"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e7" edge="1" parent="1" source="define_array" target="foreach_loop"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e8" edge="1" parent="1" source="foreach_loop" target="check_password_length"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e9" edge="1" parent="1" source="check_password_length" target="combine_password"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e10" edge="1" parent="1" source="combine_password" target="decision"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e11" value="Yes" edge="1" parent="1" source="decision" target="access_granted"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e12" value="No" edge="1" parent="1" source="decision" target="access_denied"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e13" edge="1" parent="1" source="access_granted" target="end"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e14" edge="1" parent="1" source="access_denied" target="end"><mxGeometry relative="1" as="geometry"/></mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>